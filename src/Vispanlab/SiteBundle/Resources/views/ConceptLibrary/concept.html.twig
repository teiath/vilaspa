{% extends 'VispanlabSiteBundle::base.html.twig' %}

{% block content %}
<div class="row text-center">
    <div class="col-md-12 concept-details">
        <h2 style="margin-top: 0;"><strong>{{concept.nameForLang(app.request.locale).textFormatted|format_text(concept.nameForLang(app.request.locale).format_type)}}</strong><hr /></h2>
        <div class="row text-justify">
            <div class="col-md-6">
                {% if concept.hasDefinitionForLang(app.request.locale) %}
                {% include 'VispanlabSiteBundle:ConceptLibrary:concept_block.html.twig' with {
                    'concept': concept,
                    'method': 'definitionForLang',
                    'block_name' : ('concept.DEFINITION'|trans),
                    'locale': app.request.locale,
                } %}
                {% endif %}
                {% for text in concept.alternativeDefinitionsForLang(app.request.locale) %}
                    {% include 'VispanlabSiteBundle:ConceptLibrary:concept_block.html.twig' with {
                        'concept': concept,
                        'content': text,
                        'block_name' : 'ΕΝΑΛΛΑΚΤΙΚΟΣ ΟΡΙΣΜΟΣ '~(loop.index|roman_numeral),
                        'locale': app.request.locale,
                    } %}
                {% endfor %}
                {% include 'VispanlabSiteBundle:ConceptLibrary:concept_block.html.twig' with {
                    'concept': concept,
                    'method': 'relatedConceptsForLang',
                    'block_name' : ('concept.RELATED_CONCEPTS'|trans),
                    'locale': app.request.locale,
                } %}
            </div>
            <div class="col-md-6">
                {% for def in concept.getDefinitionForOtherLang(app.request.locale) %}
                {% include 'VispanlabSiteBundle:ConceptLibrary:concept_block.html.twig' with {
                    'concept': concept,
                    'method': 'definitionForLang',
                    'block_name' : ('concept.DEFINITION'|trans({}, null, def.locale)),
                    'locale': def.locale,
                    'showFlags': false
                } %}
                {% endfor %}
                {% if concept.media|length > 0 %}
                {% include 'VispanlabSiteBundle:ConceptLibrary:concept_block.html.twig' with {
                    'concept': concept,
                    'method': 'getMedia',
                    'block_name' : 'ΔΙΑΓΡΑΜΜΑ/ΧΑΡΤΗΣ/κλπ.',
                } %}
                {% endif %}
                {% if concept.comments|length > 0 %}
                {% include 'VispanlabSiteBundle:ConceptLibrary:concept_block.html.twig' with {
                    'concept': concept,
                    'method': 'commentsAsDefinition',
                    'block_name' : 'ΣΧΟΛΙΑ/ΠΑΡΑΔΕΙΓΜΑ',
                    'locale': app.request.locale,
                } %}
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block javascripts %}
{{parent()}}
<script src="{{asset('bundles/sonataadmin/vendor/bootstrap/js/transition.js')}}"></script>
<script src="{{asset('bundles/sonataadmin/vendor/bootstrap/js/collapse.js')}}"></script>
<script>
    $(document).ready(function() {
        $('.concept-details-block').on('hide.bs.collapse', function (e) {
            $(this).parent().find('.collapse-arrows-wrapper i').removeClass('fa-angle-double-up');
            $(this).parent().find('.collapse-arrows-wrapper i').addClass('fa-angle-double-down');
        });
        $('.concept-details-block').on('show.bs.collapse', function (e) {
            $(this).parent().find('.collapse-arrows-wrapper i').removeClass('fa-angle-double-down');
            $(this).parent().find('.collapse-arrows-wrapper i').addClass('fa-angle-double-up');
        });
    });
</script>
{% endblock %}